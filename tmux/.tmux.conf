### –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ ###
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"
set -ga terminal-overrides ",*256col*:RGB"
set -s escape-time 0                    # –ù—É–ª–µ–≤–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ ESC
set -g history-limit 50000              # –ë–æ–ª—å—à–µ –∏—Å—Ç–æ—Ä–∏–∏
set -g display-time 4000                # –°–æ–æ–±—â–µ–Ω–∏—è –¥–æ–ª—å—à–µ –≤–∏–¥–Ω—ã
set -g status-interval 5                # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å-–±–∞—Ä–∞
set -g focus-events on                  # –§–æ–∫—É—Å —Å–æ–±—ã—Ç–∏—è –¥–ª—è Neovim
setw -g aggressive-resize on            # –£–º–Ω—ã–π —Ä–µ—Å–∞–π–∑

### PREFIX ###
unbind C-b
set -g prefix C-a
bind C-a send-prefix

### INDEXING ###
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on              # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–Ω—É–º–µ—Ä–∞—Ü–∏—è –æ–∫–æ–Ω

### SPLITS - –ò–ù–¢–£–ò–¢–ò–í–ù–û –ò –ë–´–°–¢–†–û ###
bind | split-window -h -c "#{pane_current_path}"
bind _ split-window -v -c "#{pane_current_path}"
bind '\' split-window -h -c "#{pane_current_path}"  # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è |
bind - split-window -v -c "#{pane_current_path}"    # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –¥–ª—è _

### –ü–ò–ó–î–ê–¢–ê–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø - VIM STYLE –ë–ï–ó –ö–û–ù–§–õ–ò–ö–¢–û–í ###
# Smart pane switching with awareness of Vim splits.
# –ò—Å–ø–æ–ª—å–∑—É–µ–º Alt (Option) –¥–ª—è –ú–ì–ù–û–í–ï–ù–ù–û–ô –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ë–ï–ó PREFIX!
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

# –ï—Å–ª–∏ —Ö–æ—á–µ—à—å —Å PREFIX (–∫–ª–∞—Å—Å–∏–∫–∞)
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

### –ù–ê–í–ò–ì–ê–¶–ò–Ø –ü–û –û–ö–ù–ê–ú - –ú–û–õ–ù–ò–ï–ù–û–°–ù–û ###
# Alt+1-9 –¥–ª—è –ú–ì–ù–û–í–ï–ù–ù–û–ì–û –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –æ–∫–Ω–∞–º–∏ (–ë–ï–ó PREFIX!)
bind -n M-1 select-window -t 1
bind -n M-2 select-window -t 2
bind -n M-3 select-window -t 3
bind -n M-4 select-window -t 4
bind -n M-5 select-window -t 5
bind -n M-6 select-window -t 6
bind -n M-7 select-window -t 7
bind -n M-8 select-window -t 8
bind -n M-9 select-window -t 9

# Alt+n –∏ Alt+p –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ/–ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ–∫–Ω–∞ (–ë–ï–ó PREFIX!)
bind -n M-n next-window
bind -n M-p previous-window

# Tab –∏ Shift+Tab –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è (–ë–ï–ó PREFIX!)
bind -n M-Tab next-window
bind -n M-BTab previous-window

### PANE RESIZING - –ë–´–°–¢–†–û –ò –£–î–û–ë–ù–û ###
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Resizing —Å Alt (–±–µ–∑ PREFIX, –∑–∞–∂–∞–ª –∏ –¥–µ—Ä–∂–∏—à—å!)
bind -n M-H resize-pane -L 2
bind -n M-J resize-pane -D 2
bind -n M-K resize-pane -U 2
bind -n M-L resize-pane -R 2

### RELOAD CONFIG ###
bind r source-file ~/.tmux.conf \; display-message "üåä Kanagawa tmux –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–µ–Ω"

### COPY MODE + SYSTEM CLIPBOARD ###
setw -g mode-keys vi
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-pipe-and-cancel "pbcopy"
bind -T copy-mode-vi C-v send -X rectangle-toggle
bind P paste-buffer

# –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –≤ copy mode
bind Escape copy-mode
bind -n M-[ copy-mode  # Alt+[ –¥–ª—è –≤—Ö–æ–¥–∞ –ë–ï–ó PREFIX

### KANAGAWA COLOR SCHEME - –ê–£–¢–ï–ù–¢–ò–ß–ù–ê–Ø –ü–ê–õ–ò–¢–†–ê ###
kanagawa_bg="#1F1F28"
kanagawa_fg="#DCD7BA"
kanagawa_sumiInk="#16161D"
kanagawa_wave="#223249"
kanagawa_wave2="#2D4F67"
kanagawa_spring="#98BB6C"
kanagawa_blue="#7FB4CA"
kanagawa_purple="#957FB8"
kanagawa_cyan="#7AA89F"
kanagawa_orange="#FFA066"
kanagawa_red="#E82424"
kanagawa_gray="#727169"
kanagawa_oldWhite="#C8C093"

### STATUS BAR - –ú–ò–ù–ò–ú–ê–õ–ò–°–¢–ò–ß–ù–´–ô –Ø–ü–û–ù–°–ö–ò–ô –î–ò–ó–ê–ô–ù ###
set -g status on
set -g status-position bottom
set -g status-justify left
set -g status-style "bg=$kanagawa_bg,fg=$kanagawa_fg"

# Left: Session name —Å –∏–∫–æ–Ω–∫–æ–π
set -g status-left-length 50
set -g status-left "#[fg=$kanagawa_spring,bold,bg=$kanagawa_wave2] Û∞£á #S #[fg=$kanagawa_wave2,bg=$kanagawa_bg]"

# Right: Date + Time –≤ —è–ø–æ–Ω—Å–∫–æ–º —Å—Ç–∏–ª–µ
set -g status-right-length 100
set -g status-right "#[fg=$kanagawa_wave2,bg=$kanagawa_bg]#[fg=$kanagawa_blue,bg=$kanagawa_wave2] %YÂπ¥%mÊúà%dÊó• #[fg=$kanagawa_wave,bg=$kanagawa_wave2]#[fg=$kanagawa_purple,bg=$kanagawa_wave] %H:%M #[fg=$kanagawa_sumiInk,bg=$kanagawa_wave]#[fg=$kanagawa_oldWhite,bg=$kanagawa_sumiInk] #h "

# Window tabs - —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–π —Å—Ç–∏–ª—å
setw -g window-status-separator ""
setw -g window-status-format "#[fg=$kanagawa_bg,bg=$kanagawa_sumiInk]#[fg=$kanagawa_gray,bg=$kanagawa_sumiInk] #I #W #[fg=$kanagawa_sumiInk,bg=$kanagawa_bg]"
setw -g window-status-current-format "#[fg=$kanagawa_bg,bg=$kanagawa_wave2]#[fg=$kanagawa_spring,bold,bg=$kanagawa_wave2] #I #W #[fg=$kanagawa_wave2,bg=$kanagawa_bg]"

### PANE BORDERS - KANAGAWA –°–¢–ò–õ–¨ ###
set -g pane-border-style "fg=$kanagawa_sumiInk"
set -g pane-active-border-style "fg=$kanagawa_blue"

### MESSAGE STYLING ###
set -g message-style "bg=$kanagawa_wave,fg=$kanagawa_spring,bold"
set -g message-command-style "bg=$kanagawa_wave,fg=$kanagawa_blue"

### COPY MODE STYLING ###
setw -g mode-style "bg=$kanagawa_wave2,fg=$kanagawa_spring"

### CLOCK MODE (PREFIX + t) ###
setw -g clock-mode-colour "$kanagawa_blue"
setw -g clock-mode-style 24

### MOUSE SUPPORT ###
set -g mouse on

### –ü–û–õ–ù–û–ï –û–¢–ö–õ–Æ–ß–ï–ù–ò–ï –í–°–ï–• –ó–í–£–ö–û–í - –ê–ë–°–û–õ–Æ–¢–ù–û –í–°–ï ###
set -g visual-activity off
set -g visual-bell off
set -g visual-silence off
set -g bell-action none
set -g monitor-bell off
setw -g monitor-activity off         # –û—Ç–∫–ª—é—á–∞–µ–º –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–æ–Ω –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å bell)

# –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –æ—Ç–∫–ª—é—á–µ–Ω–∏—è bell
set -g activity-action none
set -g silence-action none
set -g remain-on-exit off

# –û—Ç–∫–ª—é—á–∞–µ–º bell –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
set-option -ga terminal-overrides ',*:bel@'

### TODO ###
bind -r D neww -c "#{pane_current_path}" '[[ -e TODO.md ]] && nvim TODO.md || nvim ~/Projects/TODO.md'

### FORGE ###
bind-key f run-shell "tmux split-window -v -p 30 -c '#{pane_current_path}' '~/.local/bin/forge'"

### SESSION MANAGEMENT - –ë–´–°–¢–†–û –ò –£–î–û–ë–ù–û ###
bind S choose-session
bind N new-session                      # –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è
bind C-s switch-client -l              # –ü–æ—Å–ª–µ–¥–Ω—è—è —Å–µ—Å—Å–∏—è

### KILL COMMANDS ###
bind X confirm-before -p "Kill session #S? (y/n)" kill-session
bind E command-prompt -p "Kill ALL sessions? (y/n)" "run-shell 'if [ %% = y ]; then tmux kill-server; fi'"
bind x kill-pane                        # –£–±–∏—Ç—å –ø–∞–Ω–µ–ª—å
bind & kill-window                      # –£–±–∏—Ç—å –æ–∫–Ω–æ

### –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø ###
# –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –æ–∫–Ω–∞–º–∏
bind Space last-window
bind Tab last-window

# –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–∫–Ω–∞ –≤ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
bind c new-window -c "#{pane_current_path}"

# Zoom –ø–∞–Ω–µ–ª–∏ (fullscreen toggle)
bind z resize-pane -Z

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–≤–æ–¥–∞ –≤–æ –≤—Å–µ—Ö –ø–∞–Ω–µ–ª—è—Ö
bind y setw synchronize-panes

# –ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
bind R source-file ~/.tmux.conf \; display-message "Config reloaded!"
